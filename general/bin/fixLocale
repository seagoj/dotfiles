#!/bin/bash

. $HOME/functions/general.sh

checkEncode() {
    return [ `locale -a | grep en_US.utf8`=="en_US.utf8" ]
}

#if [ checkEncode ] ; then
#    general::success "en_US.utf8 encoding exists in locale"
#    exit 0
#else
    sudo localedef -v -c -i en_US -f UTF-8 en_US.UTF-8
    rc=$?

    if [ $rc != 0 ] && [ $rc != 1 ] ; then
        fail "Encoding falied" $rc
    else
        if [ checkEncode ] ; then
            general::success "en_US.utf8 has been successfully coded and added to the locale"
            exit 0
        else
            exit 1
        fi
    fi

#fi
